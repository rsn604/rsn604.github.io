<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-GCC7KFXF3W"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-GCC7KFXF3W');
	</script>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Android黎明期のクラムシェルたち ( その７　Dynabook AZにはLinux ) - TORIO&#39;s blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android黎明期のクラムシェルたち ( その７　Dynabook AZにはLinux )" />
<meta property="og:description" content="Dynabook AZにUbuntu 13.04、13.10をインストールする。 なんとUbuntuが消えている．．． Android黎明期のクラムシェルたち(そ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rsn604.github.io/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%97-dynabook-az%E3%81%AB%E3%81%AFlinux/" />
<meta property="article:published_time" content="2021-01-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-21T00:00:00+00:00" />

		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Android黎明期のクラムシェルたち ( その７　Dynabook AZにはLinux )"/>
<meta name="twitter:description" content="Dynabook AZにUbuntu 13.04、13.10をインストールする。 なんとUbuntuが消えている．．． Android黎明期のクラムシェルたち(そ"/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-154494132-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="TORIO&#39;s blog" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">TORIO&#39;s blog</div>
					<div class="logo__tagline">本好き、旅好き、酒好きのブログ</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/eqmm/">
				<i class='fa fa-heart'></i>
				<span class="menu__text">EQMM-HMM</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/anthology/">
				<i class='fa fa-heart'></i>
				<span class="menu__text">アンソロジー</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/fbook/">
				<i class='fa fa-heart'></i>
				<span class="menu__text">原書</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/book/">
				<i class='fa fa-heart'></i>
				<span class="menu__text">その他の本</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/tr/">
				<i class='fa fa-road'></i>
				<span class="menu__text">書を求め町にでよう</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/it/">
				<i class='fa fa-road'></i>
				<span class="menu__text">IT</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/book/abouttorio/">
				<i class='fa fa-road'></i>
				<span class="menu__text">About</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%96-dynabook-az%E3%81%AB%E3%83%AD%E3%82%B7%E3%82%A2%E3%83%B3rom%E3%81%A8android4.1/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Android黎明期のクラムシェルたち ( その６　Dynabook AZにロシアンROMとAndroid4.1 )</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%98-is01%E3%81%AE%E6%80%9D%E3%81%84%E5%87%BA/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">Android黎明期のクラムシェルたち ( その８　IS01の思い出 )</p></a>
	</div>
</nav>
  <article class="post">
		<header class="post__header">
			<h1 class="post__title">Android黎明期のクラムシェルたち ( その７　Dynabook AZにはLinux )</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2021-01-21T00:00:00Z">January 21, 2021</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/android/" rel="category">Android</a>
	</span>
</div></div>
		</header>
<div class="content post__content clearfix">
			<h2 id="dynabook-azにubuntu-13041310をインストールする">Dynabook AZにUbuntu 13.04、13.10をインストールする。</h2>
<br clear="left">
<hr>
<h3 id="なんとubuntuが消えている">なんとUbuntuが消えている．．．</h3>
<p><a href="https://rsn604.github.io/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%95-dynabook-az%E3%81%AE%E5%BE%A9%E6%B4%BB%E5%8A%87%E3%82%92%E6%8C%AF%E3%82%8A%E8%BF%94%E3%82%8B/">Android黎明期のクラムシェルたち(その５　Dynabook AZの復活劇を振り返る)</a>にも触れましたが，Dynabook AZ(AC100)用のUbuntuは，11.04から13､10までCarnicalで正式版がサポートされていました。<br>
さて、この文書を書くにあたり、確認のため久方ぶりにダウンロードサイトにアクセスしてみたのですが，愕然としました。なんと「AZ用のインストールファイルが軒並み消えている」のです。</p>
<h4 id="そうなのかこのマシンはすでに見放されていたのか">そうなのか､このマシンはすでに見放されていたのか。</h4>
<p>そういうわけで，いささかモチベーションが落ちていますが，ここまでDynabook AZについて記述してきたことでもありますし、続けましょう。<strong>AZに対するレクイエム</strong>とでもしておきましょうか。</p>
<p>なお、正規サイトではありませんが、13.04のインストールファイルが、<a href="https://phillw.net/isos/lubuntu/raring/" target="_blank">ここ</a>にありました。最終バージョンである13.10は、残念ながら見つけることはできませんでした。今回は、発見できた13.04をベースにしますが、13.10での注意点も付記しておきます。</p>
<hr>
<p>まずは、インストール手順を簡単に説明します。AZをリカバリーモードにする手順などについては、<a href="https://rsn604.github.io/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%96-dynabook-az%E3%81%AB%E3%83%AD%E3%82%B7%E3%82%A2%E3%83%B3rom%E3%81%A8android4.1/">Android黎明期のクラムシェルたち(その６　Dynabook AZにロシアンROMとAndroid4</a>の説明を参考にしてください。</p>
<h3 id="1ファイルのダウンロード">（1）ファイルのダウンロード</h3>
<p>上記サイトから、</p>
<p>lubuntu-13.04-preinstalled-desktop-armhf+ac100.bootimg<br>
lubuntu-13.04-preinstalled-desktop-armhf+ac100.tar.gz</p>
<p>の2ファイルをダウンロードします。<br>
2番めのファイル”lubuntu-13.04-preinstalled-desktop-armhf+ac100.tar.gz”を、フォーマットしたUSBあるいはSDカードのルートにコピーしておきます。</p>
<hr>
<h3 id="2ブートローダーの書き込み">(2)ブートローダーの書き込み</h3>
<p>まずは、AZを<strong>リカバリーモード</strong>にします。</p>
<ul>
<li>PCとAZをUSB miniケーブルで接続。</li>
<li>AZのESC+CTRLキーを押しながら、電源ボタンON。</li>
</ul>
<p>続けてnvflashで、”lubuntu-13.04-preinstalled-desktop-armhf+ac100.bootimg”を書き込みます。</p>
<pre><code>$ nvflash --bl /usr/lib/nvflash/fastboot.bin --download 6 lubuntu-13.04-preinstalled-desktop-armhf+ac100.bootimg  
</code></pre><p>”success”で処理が終わったことを確認、電源ボタン長押しで電源をOFFにします。</p>
<hr>
<h3 id="3インストール">(3)インストール</h3>
<p>”lubuntu-13.04-preinstalled-desktop-armhf+ac100.tar.gz”を入れたUSBあるいはSDカードをAZに挿して、電源をONします。<br>
USBブートの場合、SDスロットにカードを入れておくと、SDがインストールのターゲットになりますので注意してください。ということは、SDカード上にもUbuntuインストールが可能ということです。</p>
<p>ブートローダーがrootfsのファイルをチェックしているという文字が表示され、本当に書き込んで良いか聞かれますので、”y”を入力し、先に進みましょう。完了後、自動的に再起動、Lubuntuが立ち上がり、セットアップが始まます。</p>
<hr>
<h3 id="4セットアップ">(4)セットアップ</h3>
<p>ここからの設定は、通常のUbuntuと同じですので、Wi-fiの設定をしてから先に進めます。</p>
<img src="/IT/Android黎明期のクラムシェルたち(その７)(10NotUseWifi).jpg" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<p>13.04は問題ないのですが、<strong>13.10の場合、インストール時にWi-fiが繋がらない</strong>というバグがあります。これは、<a href="https://bugs.launchpad.net/ac100/+bug/1231778" target="_blank">ここ</a>にあるように、”apparmor”の問題ですので、”Wi-Fiネットワークに今すぐには接続しない”を選択して先に進めましょう。<br>
<br clear="left"></p>
<p>一応のセットアップが完了すると、Lubuntuが立ち上がります。</p>
<hr>
<h3 id="5システム更新と日本語環境整備">(5)システム更新と日本語環境整備</h3>
<p>ここから、環境整備を進めます。</p>
<p>まず、13.10の場合は、Wi-fiを使えるようにしないと先に進めません。<br>
”apparmor_2.8.0-0ubuntu31.1_armhf.deb”を<a href="https://launchpad.net/ubuntu/trusty/armhf/apparmor/2.8.0-0ubuntu31" target="_blank">ここ</a>から、ダウンロード、ターミナルを開いてインストールを行います。</p>
<pre><code>$ sudo dpkg -i apparmor_2.8.0-0ubuntu31.1_armhf.deb  
</code></pre><p>これで、Wi-fiが使えるはずですので、接続します。</p>
<p>さて、13.04、13.10を問わず、この段階でキーボードは英語モードであるうえに、バックスラッシュ”\”と、アンダースコア”_”が打てません。さらに、/etc/apt/sources.list内のRepositoryには、Ubuntu13（Saucy)関係は、すでになくなっていますので、そのあたりも変更する必要があります。また、日本語関係も不十分です。</p>
<p>これらを一気に解消するシェル(ここでは、”x.sh”とします）を作っておき、USB経由でコピーしておきましょう。</p>
<pre><code>#!/bin/bash  
  
# sources.listの変更。  
sudo sed -i -e 's/ports.ubuntu.com\/ubuntu-ports\//old-releases.ubuntu.com\/ubuntu\//g' /etc/apt/sources.list  
  
sudo apt-get update  
sudo apt-get -y upgrade  
  
# 日本語関係の設定。  
sudo apt-get -y install language-pack-ja  
sudo update-locale LANG=ja_JP.UTF-8  
# デフォルトではibus-anthyが導入されますが、fcitx-mozcに変更します。  
sudo apt-get -y install fcitx-mozc  
  
# ”\”、”|”を使えるようにする。  
cat &gt;&gt; $HOME/.Xmodmap &lt;&lt;END  
keycode 81 = backslash bar  
keycode 84 = backslash underscore  
END  
</code></pre><p>これを実行します。</p>
<pre><code>$ chmod +x x.sh  
$ ./x.sh  
</code></pre><img src="/IT/Android黎明期のクラムシェルたち(その７)(20lang01).png" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<p>完了後、メニューの 「設定」→「言語サポート」をクリックし、不十分な部分をインストールします。<br>
<br clear="left"></p>
<img src="/IT/Android黎明期のクラムシェルたち(その７)(20lang02).png" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<p>続けて、この画面上の「キーボード入力に使うIMシステム」を「fcitx」に変更してから、「システム全体に適用」をクリックします。<br>
<br clear="left"></p>
<p>なお、13.10では、”$HOME/.bashrc”に下記の設定が必要です。</p>
<pre><code>export GTK_IM_MODULE=fcitx  
export QT_IM_MODULE=fcitx  
export XMODIFIERS=@im=fcitx  
export DefaultIMModule=fcitx  
</code></pre><p>以上で、日本語関係の環境整備は完了。ここで、再起動します。</p>
<hr>
<h3 id="6fcitx設定">(6)fcitx設定</h3>
<p>メニューから、「設定」→「Fcitx設定」を開きます。<br>
何らかの表示がされると思いますが、ブランク画面の場合、fcitxが起動していません。その場合は、ターミナルを開いて、fcitxデーモンを起動してみます（13.10の場合、この状態になる）。</p>
<pre><code>$ /usr/bin/fcitx &amp;  
</code></pre><p>さらに、fcitxの自動起動を設定しておきましょう（同上13.10のみ）。</p>
<img src="/IT/Android黎明期のクラムシェルたち(その７)(31fcitx).png" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<p>「設定」→「Default application for LXSession」を開きます。この画面で、”/usr/bin/fcitx”を指定します。<br>
<br clear="left"></p>
<p>ここから「日本語キーボード」に設定を変更します。</p>
<img src="/IT/Android黎明期のクラムシェルたち(その７)(30keyboard01).png" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<p>「Fcitx設定」の画面下にある”＋”を押し、出てくる一覧画面から”Keyboard - 日本語”を選択します。<br>
<br clear="left"></p>
<img src="/IT/Android黎明期のクラムシェルたち(その７)(30keyboard02).png" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<p>さらに、”^”キーで、”Mozc”の上部へ押し上げます。また、「英語キーボード」を、”ー”で削除しておきましょう。<br>
<br clear="left"></p>
<p>上の画面の状態になれば、OKです。<br>
ターミナルを開いて、”半／全”キーを押してみます。mozcの変換画面になるはずです。また、キーボードの印字通りに記号が入力できること、”\”、”|”が入力できることも確認しておきましょう。</p>
<img src="/IT/Android黎明期のクラムシェルたち(その７)(40mozc).png" style="float:left;margin-right:50px;margin-bottom:30px;width:400px;">  
<br clear="left">  
<hr>
<h3 id="7アプリケーションのインストール">(7)アプリケーションのインストール</h3>
<p>ここからは適当にアプリケーションをインストールしていきます。わたしは、こんな感じで導入しました。</p>
<pre><code>$ sudo apt-get -y install emacs emacs-mozc fonts-takao nkf curl git build-essential gparted python3-pandas python3-pip gnome-screenshot  
</code></pre><hr>
<h3 id="8その他">（8）その他</h3>
<p>ちょっとしたポイントを書いておきます。</p>
<h4 id="1画面がブラックアウトしたとき">1）画面がブラックアウトしたとき</h4>
<p>長時間処理が続いた場合など、AZの画面がブラックアウトしてしまう時があります。適当なキーを叩いても戻ってこないので、暴走かと焦ってしまいますが、その時には慌てず騒がず、</p>
<h5 id="まずはctrlalt最上段7番目のキーモニタ切り替え続けてctrlalt最上段9番目のキー輝度アップを押すこと">まずは、CTRL+ALT+最上段7番目のキー(モニタ切り替え)、続けてCTRL+ALT+最上段9番目のキー(輝度アップ)を押すこと</h5>
<p>で対応しましょう。戻ってくるはずです。</p>
<h4 id="2backlight">2）Backlight</h4>
<p>インストール後の画面は、かなりの高輝度になっているので、これを修正します。<br>
残念ながら上部のキーは効きません。”/sys/devices/platform/pwm-backlight/backlight/pwm-backlight/brightness”が設定ファイルなので、この数値を変更します。初期値は”224”なので、これを適当な数値に変更します。毎回するのは面倒なので、rc.local（懐かしいね）にでも入れておきましょう。</p>
<pre><code># /etc/rc.local  
chmod 666 /sys/devices/platform/pwm-backlight/backlight/pwm-backlight/brightness  
echo 100 &gt; /sys/devices/platform/pwm-backlight/backlight/pwm-backlight/brightness  
</code></pre><p>echoの数字が明るさです。</p>
<hr>
<h3 id="5年ぶりに使ってみて">5年ぶりに使ってみて．．．</h3>
<p>電源オンからの起動は35秒程度。わたしのメインPCより速いぐらいですし、スリープなども問題なく機能します。バッテリーも個体差はあるでしょうが、4時間程度は使えそうです。<br>
このように、一通りの動作は問題ありませんが、やはり古臭さは隠せません。特に<strong>動画関係は壊滅的</strong>です。ブラウザは動きますが、Youtubeはサポート外で使えません。高品質な動画は、画面が音声に追いついてこられません。この分野を重視するなら、もはや見放されて当然のマシンであることは間違いないでしょう。</p>
<p>今回は環境セットアップ後、この文章をAZのEmacsで入力してみましたが、特にストレスを感じることなく作業が進みました。この用途ならば、まだ使い途はありそうです。愛着のあるマシンでもありますから、今後も時々取り出して遊んでやろうと思っています。</p>

		</div>
	</article>
</main>


<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%96-dynabook-az%E3%81%AB%E3%83%AD%E3%82%B7%E3%82%A2%E3%83%B3rom%E3%81%A8android4.1/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Android黎明期のクラムシェルたち ( その６　Dynabook AZにロシアンROMとAndroid4.1 )</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/it/android%E9%BB%8E%E6%98%8E%E6%9C%9F%E3%81%AE%E3%82%AF%E3%83%A9%E3%83%A0%E3%82%B7%E3%82%A7%E3%83%AB%E3%81%9F%E3%81%A1%E3%81%9D%E3%81%AE%EF%BC%98-is01%E3%81%AE%E6%80%9D%E3%81%84%E5%87%BA/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">Android黎明期のクラムシェルたち ( その８　IS01の思い出 )</p></a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 TORIO.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
